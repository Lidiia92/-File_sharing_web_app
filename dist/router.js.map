{"version":3,"sources":["../src/router.js"],"names":["AppRouter","app","setupRouters","uploadDir","get","upload","req","res","next","status","json","version","post","array","files"],"mappings":";;;;;;;;AAAA;;;;IAEMA,S;AAEF,uBAAYC,GAAZ,EAAiB;AAAA;;AACb,aAAKA,GAAL,GAAWA,GAAX,EACA,KAAKC,YAAL,EADA;AAEH;;;;uCAEc;;AAEX,gBAAMD,MAAM,KAAKA,GAAjB;AACA,gBAAME,YAAYF,IAAIG,GAAJ,CAAQ,YAAR,CAAlB;AACA,gBAAMC,SAASJ,IAAIG,GAAJ,CAAQ,QAAR,CAAf;;AAEA;AACAH,gBAAIG,GAAJ,CAAQ,GAAR,EAAa,UAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC7B,uBAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,6BAASA;AADe,iBAArB,CAAP;AAGH,aAJD;;AAMAV,gBAAIW,IAAJ,CAAS,aAAT,EAAwBP,OAAOQ,KAAP,CAAa,OAAb,CAAxB,EAA+C,UAACP,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/D,oBAAMM,QAAQR,IAAIQ,KAAlB;AACA,uBAAOP,IAAIG,IAAJ,CAAS;AACZI,2BAAOA;AADK,iBAAT,CAAP;AAIH,aAND;AAOH;;;;;;kBAIUd,S","file":"router.js","sourcesContent":["import {version} from '../package.json';\r\n\r\nclass AppRouter {\r\n\r\n    constructor(app) {\r\n        this.app = app,\r\n        this.setupRouters();\r\n    }\r\n\r\n    setupRouters() {\r\n\r\n        const app = this.app;\r\n        const uploadDir = app.get('storageDir');\r\n        const upload = app.get('upload');\r\n\r\n        //root routing\r\n        app.get('/', (req, res, next) => {\r\n            return res.status(200).json({\r\n                version: version\r\n            });\r\n        });\r\n\r\n        app.post('/api/upload', upload.array('files'), (req, res, next) => {\r\n            const files = req.files;\r\n            return res.json({\r\n                files: files,\r\n            })\r\n\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default AppRouter;"]}